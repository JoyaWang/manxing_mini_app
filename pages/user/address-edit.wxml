<!--pages/user/address-edit.wxml-->
<view class="container">
  <!-- 返回按钮 -->
  <view class="back-button" bindtap="onGoBack">
    <text class="back-icon">←</text>
    <text class="back-text">返回</text>
  </view>
  
  <!-- 表单 -->
  <view class="form-section">
    <view class="form-item">
      <text class="label">收货人</text>
      <input 
        class="input" 
        type="text" 
        placeholder="请输入收货人姓名"
        value="{{address.name}}"
        data-field="name"
        bindinput="onInputChange"
      />
    </view>

    <view class="form-item">
      <text class="label">手机号码</text>
      <input 
        class="input" 
        type="number" 
        placeholder="请输入手机号码"
        value="{{address.phone}}"
        data-field="phone"
        bindinput="onInputChange"
      />
    </view>

    <view class="form-item">
      <text class="label">所在地区</text>
      <picker 
        class="picker" 
        mode="region" 
        value="{{region}}"
        bindchange="onRegionChange"
      >
        <view class="picker-value">
          <text wx:if="{{address.province}}">{{address.province}} {{address.city}} {{address.district}}</text>
          <text wx:else class="placeholder">请选择所在地区</text>
        </view>
      </picker>
    </view>

    <view class="form-item">
      <text class="label">详细地址</text>
      <textarea 
        class="textarea" 
        placeholder="请输入详细地址"
        value="{{address.detail}}"
        data-field="detail"
        bindinput="onInputChange"
      />
    </view>

    <view class="form-item checkbox-item">
      <text class="label">设为默认地址</text>
      <switch 
        class="switch" 
        checked="{{address.isDefault}}"
        bindchange="onToggleDefault"
      />
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button 
      class="btn-save" 
      bindtap="onSaveAddress"
      loading="{{loading}}"
    >
      {{isEdit ? '更新地址' : '保存地址'}}
    </button>
    
    <button 
      class="btn-delete" 
      wx:if="{{isEdit}}"
      bindtap="onDeleteAddress"
    >
      删除地址
    </button>
  </view>
</view>