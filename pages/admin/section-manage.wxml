<!--pages/admin/section-manage.wxml-->
<view class="container">
  <!-- 页面头部 -->
  <view class="page-header">
    <view class="header-back" bindtap="onBack">
      <text class="back-icon">←</text>
      <text class="back-text">返回</text>
    </view>
    <text class="header-title">首页板块管理</text>
    <view class="header-actions">
      <text class="save-btn" bindtap="onSaveConfig">保存</text>
    </view>
  </view>

  <!-- 板块配置列表 -->
  <view class="section-list">
    <view class="section-title">首页板块显示控制</view>
    <view class="section-desc">开启或关闭首页各个板块的显示</view>
    
    <view class="config-list">
      <!-- 轮播图板块 -->
      <view class="config-item">
        <view class="config-info">
          <text class="config-name">轮播图</text>
          <text class="config-desc">首页顶部的轮播广告图</text>
        </view>
        <switch 
          checked="{{homeSections.banners}}" 
          bindchange="onToggleSection" 
          data-section="banners"
          color="#FF6B35"
        />
      </view>

      <!-- 分类导航板块 -->
      <view class="config-item">
        <view class="config-info">
          <text class="config-name">分类导航</text>
          <text class="config-desc">商品分类快捷入口</text>
        </view>
        <switch 
          checked="{{homeSections.categories}}" 
          bindchange="onToggleSection" 
          data-section="categories"
          color="#FF6B35"
        />
      </view>

      <!-- 推荐商品板块 -->
      <view class="config-item">
        <view class="config-info">
          <text class="config-name">推荐商品</text>
          <text class="config-desc">精选推荐商品展示</text>
        </view>
        <switch 
          checked="{{homeSections.featuredProducts}}" 
          bindchange="onToggleSection" 
          data-section="featuredProducts"
          color="#FF6B35"
        />
      </view>

      <!-- 热销商品板块 -->
      <view class="config-item">
        <view class="config-info">
          <text class="config-name">热销商品</text>
          <text class="config-desc">热销排行榜商品</text>
        </view>
        <switch 
          checked="{{homeSections.hotProducts}}" 
          bindchange="onToggleSection" 
          data-section="hotProducts"
          color="#FF6B35"
        />
      </view>

      <!-- 新品上市板块 -->
      <view class="config-item">
        <view class="config-info">
          <text class="config-name">新品上市</text>
          <text class="config-desc">最新上架的商品</text>
        </view>
        <switch 
          checked="{{homeSections.newProducts}}" 
          bindchange="onToggleSection" 
          data-section="newProducts"
          color="#FF6B35"
        />
      </view>

      <!-- 广告位板块 -->
      <view class="config-item">
        <view class="config-info">
          <text class="config-name">广告位</text>
          <text class="config-desc">首页中部广告展示</text>
        </view>
        <switch 
          checked="{{homeSections.ads}}" 
          bindchange="onToggleSection" 
          data-section="ads"
          color="#FF6B35"
        />
      </view>
    </view>
  </view>

  <!-- 预览区域 -->
  <view class="preview-section">
    <view class="preview-title">预览效果</view>
    <view class="preview-content">
      <view class="preview-item" wx:if="{{homeSections.banners}}">
        <text class="preview-label">轮播图</text>
        <view class="preview-banner"></view>
      </view>
      
      <view class="preview-item" wx:if="{{homeSections.categories}}">
        <text class="preview-label">分类导航</text>
        <view class="preview-categories">
          <view class="preview-category" wx:for="{{8}}" wx:key="*this"></view>
        </view>
      </view>
      
      <view class="preview-item" wx:if="{{homeSections.featuredProducts}}">
        <text class="preview-label">推荐商品</text>
        <view class="preview-products">
          <view class="preview-product" wx:for="{{4}}" wx:key="*this"></view>
        </view>
      </view>
      
      <view class="preview-item" wx:if="{{homeSections.hotProducts}}">
        <text class="preview-label">热销商品</text>
        <view class="preview-products">
          <view class="preview-product" wx:for="{{4}}" wx:key="*this"></view>
        </view>
      </view>
      
      <view class="preview-item" wx:if="{{homeSections.newProducts}}">
        <text class="preview-label">新品上市</text>
        <view class="preview-products">
          <view class="preview-product" wx:for="{{4}}" wx:key="*this"></view>
        </view>
      </view>
      
      <view class="preview-item" wx:if="{{homeSections.ads}}">
        <text class="preview-label">广告位</text>
        <view class="preview-ad"></view>
      </view>
      
      <view class="preview-empty" wx:if="{{!hasVisibleSections}}">
        <text class="empty-text">暂无显示板块</text>
        <text class="empty-desc">请至少开启一个板块</text>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="btn-reset" bindtap="onResetToDefault">恢复默认</button>
    <button class="btn-save" bindtap="onSaveConfig">保存配置</button>
  </view>
</view>