<!--pages/admin/index.wxml-->
<view class="container">
  <!-- ç´§å‡‘å¤´éƒ¨ä¸æ•°æ®æ¦‚è§ˆ -->
  <view class="compact-header">
    <view class="header-main">
      <view class="header-info">
        <view class="admin-title">
          <text class="title">ç®¡ç†åå°</text>
          <text class="subtitle">å•†åŸç®¡ç†ç³»ç»Ÿ</text>
        </view>
        <view class="user-info">
          <image class="user-avatar" src="{{userInfo.avatarUrl}}" />
          <text class="user-name">{{userInfo.nickName}}</text>
        </view>
      </view>

      <!-- ç´§å‡‘æ•°æ®æ¦‚è§ˆ - æ°´å¹³æ’åˆ— -->
      <view class="compact-stats">
        <view class="stat-item" bindtap="onNavigateToProductManage">
          <text class="stat-number">{{stats.products}}</text>
          <text class="stat-label">å•†å“</text>
        </view>
        <view class="stat-item" bindtap="onNavigateToOrderManage">
          <text class="stat-number">{{stats.orders}}</text>
          <text class="stat-label">è®¢å•</text>
        </view>
        <view class="stat-item" bindtap="onNavigateToUserManage">
          <text class="stat-number">{{stats.users}}</text>
          <text class="stat-label">ç”¨æˆ·</text>
        </view>
        <view class="stat-item revenue" bindtap="onViewTodayOrders">
          <text class="stat-number">Â¥{{stats.revenue}}</text>
          <text class="stat-label">é”€å”®é¢</text>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½å¡ç‰‡ç½‘æ ¼ - ç´§å‡‘3x2å¸ƒå±€ -->
  <view class="function-grid">
    <view class="function-row">
      <view class="function-card primary" bindtap="onNavigateToProductManage">
        <view class="card-icon">ğŸ“¦</view>
        <view class="card-content">
          <text class="card-title">å•†å“ç®¡ç†</text>
          <text class="card-desc">{{stats.products}} ä¸ªå•†å“</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>

      <view class="function-card" bindtap="onNavigateToOrderManage">
        <view class="card-icon">ğŸ“‹</view>
        <view class="card-content">
          <text class="card-title">è®¢å•ç®¡ç†</text>
          <text class="card-desc">{{stats.orders}} ä¸ªè®¢å•</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>

      <view class="function-card" bindtap="onNavigateToUserManage">
        <view class="card-icon">ğŸ‘¥</view>
        <view class="card-content">
          <text class="card-title">ç”¨æˆ·ç®¡ç†</text>
          <text class="card-desc">{{stats.users}} ä½ç”¨æˆ·</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>
    </view>

    <view class="function-row">
      <view class="function-card" bindtap="onNavigateToSectionManage">
        <view class="card-icon">ğŸ </view>
        <view class="card-content">
          <text class="card-title">é¦–é¡µé…ç½®</text>
          <text class="card-desc">6 ä¸ªæ¿å—</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>

      <view class="function-card accent" bindtap="onAddNewProduct">
        <view class="card-icon">â•</view>
        <view class="card-content">
          <text class="card-title">æ·»åŠ å•†å“</text>
          <text class="card-desc">å¿«é€Ÿåˆ›å»º</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>

      <view class="function-card" bindtap="onCheckInventory">
        <view class="card-icon">ğŸ“Š</view>
        <view class="card-content">
          <text class="card-title">åº“å­˜æ£€æŸ¥</text>
          <text class="card-desc">åº“å­˜é¢„è­¦</text>
        </view>
        <view class="card-arrow">â†’</view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œæ  - ç´§å‡‘åº•éƒ¨ -->
  <view class="quick-actions">
    <view class="action-buttons">
      <button class="action-btn switch" bindtap="onSwitchToConsumer">
        <text class="action-icon">ğŸ›’</text>
        <text class="action-text">æ¶ˆè´¹è€…é¡µé¢</text>
      </button>
      <button class="action-btn backend" bindtap="onSwitchBackend">
        <text class="action-icon">ğŸ”„</text>
        <text class="action-text">{{backendType === 'tencent' ? 'è…¾è®¯äº‘' : 'Supabase'}}</text>
      </button>
      <button class="action-btn back" bindtap="onBackToUserCenter">
        <text class="action-icon">â†</text>
        <text class="action-text">è¿”å›</text>
      </button>
    </view>
  </view>
</view>
