<!--pages/admin/index.wxml-->
<view class="container">
  <!-- è¿”å›æŒ‰é’® -->
  <view class="back-button" bindtap="onBackToUserCenter">
    <text class="back-icon">â†</text>
    <text class="back-text">è¿”å›</text>
  </view>
  
  <!-- ç®¡ç†åå°å¤´éƒ¨ -->
  <view class="admin-header">
    <view class="header-title">
      <text class="title">ç®¡ç†åå°</text>
      <text class="subtitle">å•†åŸç®¡ç†ç³»ç»Ÿ</text>
    </view>
    <view class="header-user">
      <image class="user-avatar" src="{{userInfo.avatarUrl}}" />
      <text class="user-name">{{userInfo.nickName}}</text>
    </view>
  </view>

  <!-- æ•°æ®æ¦‚è§ˆ -->
  <view class="stats-section">
    <view class="stats-grid">
      <view class="stat-card">
        <text class="stat-number">{{stats.products}}</text>
        <text class="stat-label">å•†å“æ€»æ•°</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{stats.orders}}</text>
        <text class="stat-label">è®¢å•æ€»æ•°</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{stats.users}}</text>
        <text class="stat-label">ç”¨æˆ·æ€»æ•°</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">Â¥{{stats.revenue}}</text>
        <text class="stat-label">æ€»é”€å”®é¢</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½å¡ç‰‡ç½‘æ ¼ - ç´§å‡‘å¸ƒå±€ -->
  <view class="compact-grid">
    <!-- ç¬¬ä¸€è¡Œï¼šå•†å“å’Œè®¢å•ç®¡ç† -->
    <view class="compact-row">
      <view class="compact-card" bindtap="onNavigateToProductManage">
        <view class="compact-icon">ğŸ“¦</view>
        <text class="compact-title">å•†å“ç®¡ç†</text>
        <text class="compact-stats">{{stats.products}} å•†å“</text>
      </view>
      
      <view class="compact-card" bindtap="onNavigateToOrderManage">
        <view class="compact-icon">ğŸ“‹</view>
        <text class="compact-title">è®¢å•ç®¡ç†</text>
        <text class="compact-stats">{{stats.orders}} è®¢å•</text>
      </view>
    </view>

    <!-- ç¬¬äºŒè¡Œï¼šç”¨æˆ·å’Œé¦–é¡µé…ç½® -->
    <view class="compact-row">
      <view class="compact-card" bindtap="onNavigateToUserManage">
        <view class="compact-icon">ğŸ‘¥</view>
        <text class="compact-title">ç”¨æˆ·ç®¡ç†</text>
        <text class="compact-stats">{{stats.users}} ç”¨æˆ·</text>
      </view>
      
      <view class="compact-card" bindtap="onNavigateToSectionManage">
        <view class="compact-icon">ğŸ </view>
        <text class="compact-title">é¦–é¡µé…ç½®</text>
        <text class="compact-stats">6 æ¿å—</text>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œå·¥å…·æ  -->
  <view class="quick-toolbar">
    <view class="toolbar-title">å¿«æ·æ“ä½œ</view>
    <view class="toolbar-buttons">
      <button class="tool-btn primary" bindtap="onAddNewProduct">
        <text class="tool-icon">â•</text>
        <text class="tool-text">æ·»åŠ å•†å“</text>
      </button>
      <button class="tool-btn" bindtap="onViewTodayOrders">
        <text class="tool-icon">ğŸ“…</text>
        <text class="tool-text">ä»Šæ—¥è®¢å•</text>
      </button>
      <button class="tool-btn" bindtap="onCheckInventory">
        <text class="tool-icon">ğŸ“Š</text>
        <text class="tool-text">åº“å­˜æ£€æŸ¥</text>
      </button>
      <button class="tool-btn backend" bindtap="onSwitchBackend">
        <text class="tool-icon">ğŸ”„</text>
        <text class="tool-text">åˆ‡æ¢åç«¯</text>
        <text class="backend-badge">{{backendType === 'tencent' ? 'è…¾è®¯äº‘' : 'Supabase'}}</text>
      </button>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆª -->
  <view class="bottom-nav">
    <button class="btn-back" bindtap="onBackToUserCenter">è¿”å›ç”¨æˆ·ä¸­å¿ƒ</button>
    <button class="btn-switch" bindtap="onSwitchToConsumer">åˆ‡æ¢åˆ°æ¶ˆè´¹è€…é¡µé¢</button>
  </view>
</view>